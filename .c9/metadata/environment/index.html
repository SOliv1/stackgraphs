{"changed":true,"filter":false,"title":"index.html","tooltip":"/index.html","value":"<!DOCTYPE html>\n\n<html lang=\"en\">\n\n<head>\n\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <meta http-equiv=\"X-UA-Compatible\" content=\"ie=edge\">\n    <title>D3 and Scalable Vector Graphics</title>\n\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"https://cdnjs.cloudflare.com/ajax/libs/dc/2.1.8/dc.min.css\"/>\n\n    <style>\n\n        div {\n            clear: left;\n        }\n\n    </style>\n\n\n\n    <script type=\"text/javascript\" src=\"https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.17/d3.min.js\"></script>\n\n    <script type=\"text/javascript\" src=\"https://cdnjs.cloudflare.com/ajax/libs/crossfilter/1.3.12/crossfilter.min.js\"></script>\n\n    <script type=\"text/javascript\" src=\"https://cdnjs.cloudflare.com/ajax/libs/dc/2.1.8/dc.js\"></script>\n\n    <script type=\"text/javascript\" src=\"https://cdnjs.cloudflare.com/ajax/libs/queue-async/1.0.7/queue.min.js\"></script>\n\n\n\n</head>\n\n<body>\n\n    <h1>Data Visualisation</h1>\n\n\n\n    <h2>DC Stacked Bar Chart</h2>\n\n\n\n    <div>\n\n        <h3>Total Spend Per Person Broken Down By Store</h3>\n\n        <div id=\"stacked-chart\"></div>\n\n    </div>\n\n\n\n    <script>\n\n    queue()\n\n        .defer(d3.json, \"data/transactions.json\")\n\n        .await(makeGraphs);\n\n\n\n    function makeGraphs(error, transactionsData) {\n\n        var ndx = crossfilter(transactionsData);\n\n\n\n        var name_dim = ndx.dimension(dc.pluck('name'));\n\n\n\n        var spendByNameStoreA = name_dim.group().reduceSum(function (d) {\n\n            if (d.store === 'A') {\n\n                return +d.spend;\n\n            } else {\n\n                return 0;\n\n            }\n\n        });\n\n\n\n        var spendByNameStoreB = name_dim.group().reduceSum(function (d) {\n\n            if (d.store === 'B') {\n\n                return +d.spend;\n\n            } else {\n\n                return 0;\n\n            }\n\n        });\n\n\n\n        var stackedChart = dc.barChart(\"#stacked-chart\");\n\n        stackedChart\n\n            .width(500)\n\n            .height(500)\n\n            .dimension(name_dim)\n\n            .group(spendByNameStoreA, \"Store A\")\n\n            .stack(spendByNameStoreB, \"Store B\")\n\n            .x(d3.scale.ordinal())\n\n            .xUnits(dc.units.ordinal)\n\n            .legend(dc.legend().x(420).y(0).itemHeight(15).gap(5));\n\n        stackedChart.margins().right = 100;\n\n\n\n        dc.renderAll();\n\n    }\n\n    </script>\n</body>\n</html>\n\n","undoManager":{"mark":-2,"position":12,"stack":[[{"start":{"row":0,"column":0},"end":{"row":190,"column":0},"action":"insert","lines":["Skip to content","","","  ","Pull requests ","Issues ","Marketplace ","Explore ","",""," ","","","Code Issues 0 Pull requests 0 Projects 0 Wiki Security Pulse Community ","Branch: master ","BringingDataToLifeWithVisualizations/03-DCJSAndCrossfilterJS/07-stacked_charts/dc_stacked_bar_chart.html ","Find file ","Copy path "," aaronsnig501 Initial commit ","82c2e80 on 31 Oct 2018 ","1 contributor ","75 lines (62 sloc) 2.25 KB ","Raw","Blame","History","","","<!DOCTYPE html>","","<html lang=\"en\">","","<head>","","    <meta charset=\"UTF-8\">","","    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">","","    <meta http-equiv=\"X-UA-Compatible\" content=\"ie=edge\">","","    <title>D3 and Scalable Vector Graphics</title>","","","","    <link rel=\"stylesheet\" type=\"text/css\" href=\"https://cdnjs.cloudflare.com/ajax/libs/dc/2.1.8/dc.min.css\"/>","","    <style>","","        div {","","            clear: left;","","        }","","    </style>","","","","    <script type=\"text/javascript\" src=\"https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.17/d3.min.js\"></script>","","    <script type=\"text/javascript\" src=\"https://cdnjs.cloudflare.com/ajax/libs/crossfilter/1.3.12/crossfilter.min.js\"></script>","","    <script type=\"text/javascript\" src=\"https://cdnjs.cloudflare.com/ajax/libs/dc/2.1.8/dc.js\"></script>","","    <script type=\"text/javascript\" src=\"https://cdnjs.cloudflare.com/ajax/libs/queue-async/1.0.7/queue.min.js\"></script>","","","","</head>","","<body>","","    <h1>Data Visualisation</h1>","","","","    <h2>DC Stacked Bar Chart</h2>","","","","    <div>","","        <h3>Total Spend Per Person Broken Down By Store</h3>","","        <div id=\"stacked-chart\"></div>","","    </div>","","","","    <script>","","    queue()","","        .defer(d3.json, \"data/transactions.json\")","","        .await(makeGraphs);","","","","    function makeGraphs(error, transactionsData) {","","        var ndx = crossfilter(transactionsData);","","","","        var name_dim = ndx.dimension(dc.pluck('name'));","","","","        var spendByNameStoreA = name_dim.group().reduceSum(function (d) {","","            if (d.store === 'A') {","","                return +d.spend;","","            } else {","","                return 0;","","            }","","        });","","","","        var spendByNameStoreB = name_dim.group().reduceSum(function (d) {","","            if (d.store === 'B') {","","                return +d.spend;","","            } else {","","                return 0;","","            }","","        });","","","","        var stackedChart = dc.barChart(\"#stacked-chart\");","","        stackedChart","","            .width(500)","","            .height(500)","","            .dimension(name_dim)","","            .group(spendByNameStoreA, \"Store A\")","","            .stack(spendByNameStoreB, \"Store B\")","","            .x(d3.scale.ordinal())","","            .xUnits(dc.units.ordinal)","","            .legend(dc.legend().x(420).y(0).itemHeight(15).gap(5));","","","","        stackedChart.margins().right = 100;","","","","        dc.renderAll();","","    }","","    </script>","","</body>","","</html>","","© 2019 GitHub, Inc.","Terms","Privacy","Security","Status","Help","Contact GitHub","Pricing","API","Training","Blog","About","",""],"id":1}],[{"start":{"row":177,"column":0},"end":{"row":190,"column":0},"action":"remove","lines":["© 2019 GitHub, Inc.","Terms","Privacy","Security","Status","Help","Contact GitHub","Pricing","API","Training","Blog","About","",""],"id":2}],[{"start":{"row":173,"column":7},"end":{"row":174,"column":0},"action":"remove","lines":["",""],"id":3}],[{"start":{"row":171,"column":13},"end":{"row":172,"column":0},"action":"remove","lines":["",""],"id":4}],[{"start":{"row":0,"column":0},"end":{"row":25,"column":0},"action":"remove","lines":["Skip to content","","","  ","Pull requests ","Issues ","Marketplace ","Explore ","",""," ","","","Code Issues 0 Pull requests 0 Projects 0 Wiki Security Pulse Community ","Branch: master ","BringingDataToLifeWithVisualizations/03-DCJSAndCrossfilterJS/07-stacked_charts/dc_stacked_bar_chart.html ","Find file ","Copy path "," aaronsnig501 Initial commit ","82c2e80 on 31 Oct 2018 ","1 contributor ","75 lines (62 sloc) 2.25 KB ","Raw","Blame","History",""],"id":5}],[{"start":{"row":0,"column":0},"end":{"row":1,"column":0},"action":"remove","lines":["",""],"id":6},{"start":{"row":0,"column":0},"end":{"row":1,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":134,"column":0},"end":{"row":135,"column":0},"action":"remove","lines":["",""],"id":7},{"start":{"row":133,"column":0},"end":{"row":134,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":14,"column":0},"end":{"row":15,"column":0},"action":"remove","lines":["",""],"id":8},{"start":{"row":13,"column":0},"end":{"row":14,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":10,"column":57},"end":{"row":11,"column":0},"action":"remove","lines":["",""],"id":9}],[{"start":{"row":8,"column":74},"end":{"row":9,"column":0},"action":"remove","lines":["",""],"id":10}],[{"start":{"row":6,"column":26},"end":{"row":7,"column":0},"action":"remove","lines":["",""],"id":11}],[{"start":{"row":15,"column":13},"end":{"row":16,"column":0},"action":"remove","lines":["",""],"id":12}],[{"start":{"row":16,"column":24},"end":{"row":17,"column":0},"action":"remove","lines":["",""],"id":13}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":16,"column":24},"end":{"row":16,"column":24},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1567962745668}